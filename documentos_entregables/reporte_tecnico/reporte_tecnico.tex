%
% Archivo principal de documento final.
% Proyecto Lovelace.
%

\documentclass[11pt, letterpaper, twosides]{book}
\usepackage{formato}
\newcommand{\Titulo}{Generación de \textit{tokens} para proteger
                     los datos de tarjetas bancarias}
\newcommand{\Fecha}{Enero de 2018}
\usepackage{reporte_tecnico/formato}

\begin{document}

  \frontmatter
  \Portada

  % Para documento de titulación:
  % \includepdf[pages=-]{reporte_tecnico/catt/titulacion/temporales_de_latex/documento.pdf}
  % \includepdf[pages=-]{reporte_tecnico/catt/carta_responsiva.pdf}
  % \import{reporte_tecnico/contenidos/}{advertencia.tex}

  \pdfbookmark[1]{\contentsname}{Contenido}
  \setcounter{page}{3}
  \setcounter{tocdepth}{2}
  \tableofcontents
  \setcounter{tocdepth}{5}
  \newpage

  \import{reporte_tecnico/contenidos/}{simbologia.tex}

  \mainmatter
  \import{reporte_tecnico/contenidos/intro/}{intro.tex}
  \import{reporte_tecnico/contenidos/marco_teorico/}{marco_teorico.tex}

  \parte{Generación de tokens}{parte:tokens}{%
    \epigrafe{%
      ``Begin at the beginning,'' the King said, very gravely, ``and go on till
      you came to the end: then stop.''}{%
      \textsc{Lewis Carroll}.}}

  \import{reporte_tecnico/contenidos/generacion_tokens/}{generacion_tokens.tex}
  \import{reporte_tecnico/contenidos/analisis_y_disenio_tokens/}{%
    analisis_y_disenio.tex}
  \import{reporte_tecnico/contenidos/implementacion_tokens/}{%
    implementacion.tex}

  \parte{Aplicación web de sistema tokenizador}{parte:api}{%
    \epigrafe{%
      People who think they know everything are a great annoyance to those
      of us who do.}{%
      \textsc{Isaac Asimov}.}}

  \import{reporte_tecnico/contenidos/analisis_y_disenio_api_web/}{%
    analisis_y_disenio.tex}
  \import{reporte_tecnico/contenidos/implementacion_api_web/}{%
    implementacion.tex}

  \parte{Caso de prueba: tienda de libros en línea}{parte:tienda}{%
    \epigrafe{%
      She believed in nothing; only her skepticism kept her from being
      an atheist.}{%
      \textsc{Jean-Paul Sartre}.}}

  \import{reporte_tecnico/contenidos/analisis_y_disenio_tienda/}{%
    analisis_y_disenio.tex}
  \import{reporte_tecnico/contenidos/implementacion_tienda/}{%
    implementacion.tex}


  % Coloca a las conclusiones afuera de cualquier parte
  \bookmarksetup{startatroot}
  \import{reporte_tecnico/contenidos/conclusiones/}{conclusiones.tex}

  % Coloca glosarios afuera de los apéndices
  \bookmarksetup{startatroot}

  \setglossarystyle{altlist}
  \printglossary[
    type=main,
    entrycounter=true]

  \phantomsection
  \addcontentsline{toc}{chapter}{Siglas y acrónimos}
  \capituloSinNumero{Siglas y acrónimos}{sec:siglas}{%
    \epigrafe{%
      Por supuesto que la paz es el respeto al derecho ajeno, en eso todos
      estamos de acuerdo. En lo que nadie está de acuerdo es en cuál es el
      derecho ajeno.}{%
      Instrucciones para vivir en México,
      \textsc{Jorge Ibargüengoitia}.}}%

  \setglossarystyle{list}
  \renewcommand*{\glsgroupskip}{}

  \printglossary[
    type=siglas_cripto,
    title={Criptográficos}]

  \printglossary[
    type=siglas_computacionales,
    title={Computacionales}]

  \printglossary[
    type=siglas_bancarias,
    title={Bancarios}]

  \printglossary[
    type=siglas_instituciones,
    title={De instituciones y asociaciones}]

  \newpage
  \phantomsection
  \addcontentsline{toc}{chapter}{Bibliografía}
  \capituloSinNumero{Bibliografía}{sec:referencias}{
    \epigrafe{%
      Those who believe in telekinetics, raise my hand.}{%
      \textsc{Kurt Vonnegut}.}}
  %
  \printbibliography[
    heading=none,
    title={Bibliografía}]

  \newpage
  \phantomsection
  \addcontentsline{toc}{chapter}{\listfigurename}
  \listoffigures

  \newpage
  \phantomsection
  \addcontentsline{toc}{chapter}{\listtablename}
  \listoftables

  %\newpage
  %\phantomsection
  %\addcontentsline{toc}{chapter}{\lstlistlistingname}
  %\lstlistoflistings

  %\newpage
  %\phantomsection
  %\addcontentsline{toc}{chapter}{\listoflistingscaption}
  %\listoflistings

  \import{reporte_tecnico/contenidos/apendices/}{apendices.tex}
  \import{reporte_tecnico/contenidos/}{colofon.tex}

\end{document}
